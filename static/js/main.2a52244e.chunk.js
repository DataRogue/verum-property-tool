(this["webpackJsonpverum-troperty-tool"]=this["webpackJsonpverum-troperty-tool"]||[]).push([[0],[,,,,,function(e){e.exports=JSON.parse('{"COUNTRIES":[{"name":"Badlands","imageName":"badlands.jpg","regions":[{"name":"White Sands","subregions":[{"name":"Baghla\'tash","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Mirage","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Salegesh","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Voton","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]},{"name":"The Mages Coast","subregions":[{"name":"Scriven Port","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Kazakala","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]},{"name":"Lesser Scour","subregions":[{"name":"Uil\'ta","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Sandstone","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]}]},{"name":"Bloodwave Bay","imageName":"badlands.jpg","regions":[{"name":"White Sands","subregions":[{"name":"Baghla\'tash","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Mirage","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Salegesh","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Voton","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]},{"name":"The Mages Coast","subregions":[{"name":"Scriven Port","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Kazakala","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]},{"name":"Lesser Scour","subregions":[{"name":"Uil\'ta","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Sandstone","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]}]},{"name":"Daborak","imageName":"badlands.jpg","regions":[{"name":"White Sands","subregions":[{"name":"Baghla\'tash","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Mirage","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Salegesh","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Voton","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]},{"name":"The Mages Coast","subregions":[{"name":"Scriven Port","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Kazakala","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]},{"name":"Lesser Scour","subregions":[{"name":"Uil\'ta","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Sandstone","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]}]},{"name":"Dolten","imageName":"badlands.jpg","regions":[{"name":"White Sands","subregions":[{"name":"Baghla\'tash","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Mirage","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Salegesh","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Voton","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]},{"name":"The Mages Coast","subregions":[{"name":"Scriven Port","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Kazakala","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]},{"name":"Lesser Scour","subregions":[{"name":"Uil\'ta","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Sandstone","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]}]},{"name":"Floating City Of Khao","imageName":"badlands.jpg","regions":[{"name":"White Sands","subregions":[{"name":"Baghla\'tash","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Mirage","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Salegesh","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Voton","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]},{"name":"The Mages Coast","subregions":[{"name":"Scriven Port","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Kazakala","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]},{"name":"Lesser Scour","subregions":[{"name":"Uil\'ta","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Sandstone","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]}]},{"name":"Khao (Country)","imageName":"badlands.jpg","regions":[{"name":"White Sands","subregions":[{"name":"Baghla\'tash","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Mirage","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Salegesh","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Voton","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]},{"name":"The Mages Coast","subregions":[{"name":"Scriven Port","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Kazakala","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]},{"name":"Lesser Scour","subregions":[{"name":"Uil\'ta","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Sandstone","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]}]},{"name":"Krazax","imageName":"badlands.jpg","regions":[{"name":"White Sands","subregions":[{"name":"Baghla\'tash","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Mirage","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Salegesh","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Voton","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]},{"name":"The Mages Coast","subregions":[{"name":"Scriven Port","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Kazakala","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]},{"name":"Lesser Scour","subregions":[{"name":"Uil\'ta","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Sandstone","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]}]},{"name":"Majital","imageName":"majital.jpg","regions":[{"name":"White Sands","subregions":[{"name":"Baghla\'tash","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Mirage","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Salegesh","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Voton","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]},{"name":"The Mages Coast","subregions":[{"name":"Scriven Port","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Kazakala","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]},{"name":"Lesser Scour","subregions":[{"name":"Uil\'ta","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]},{"name":"Sandstone","dangerLevel":1,"landCost":2,"buildCost":1,"tpValue":1,"traits":["Efficient Infrastructure","Docks","Celebrity Town","Booming Economy","Beautiful","Slumtown"]}]}]}],"GRID_SIZES":[{"x":5,"y":5},{"x":8,"y":8},{"x":10,"y":8},{"x":10,"y":10},{"x":15,"y":10},{"x":15,"y":15},{"x":20,"y":20},{"x":30,"y":20},{"x":30,"y":30}],"TILES":{"BASE_COSTS":{"LAND_COST":25},"INDOOR":[{"tileDisplayName":"Empty","color":"white","baseTpCost":0,"baseGpCost":0},{"tileDisplayName":"Cheap","color":"#4e342e","baseTpCost":2,"baseGpCost":10},{"tileDisplayName":"Generic","color":"#c62828","baseTpCost":8,"baseGpCost":30},{"tileDisplayName":"Expensive","color":"#d84315","baseTpCost":30,"baseGpCost":100},{"tileDisplayName":"Very Expensive","color":"#f9a825","baseTpCost":100,"baseGpCost":300}],"OUTDOOR":[],"SPECIAL":[]}}')},,,,,,function(e){e.exports=JSON.parse('[{"name":"Efficient Infrastructure","description":"Carouser provost lugger code of conduct Barbary Coast poop deck pinnace tender prow Pieces of Eight. Overhaul spyglass landlubber or just lubber swing the lead execution dock hulk line squiffy galleon gun. Parrel bilge rat belaying pin lanyard warp avast Shiver me timbers booty blow the man down lad.","dangerLevel":{"type":"ADD","value":1},"landCost":{"type":"MULT","value":2},"buildCost":{"type":"MULT","value":1},"tpValue":{"type":"MULT","value":1},"exclusiveWith":[]},{"name":"Docks","description":"Ahoy barkadeer draft stern crimp maroon bilge lanyard no prey, no pay black spot. Square-rigged man-of-war swab run a rig avast rigging chase guns walk the plank ye main sheet. Lugsail spanker holystone scourge of the seven seas weigh anchor gally careen carouser run a rig yo-ho-ho.","dangerLevel":{"type":"ADD","value":1},"landCost":{"type":"MULT","value":2},"buildCost":{"type":"MULT","value":1},"tpValue":{"type":"MULT","value":1},"exclusiveWith":[]},{"name":"Celebrity Town","description":"Log yardarm bilge water snow crimp no prey, no pay bounty gabion line Shiver me timbers. Crow\'s nest chandler gunwalls cutlass hardtack pinnace gally knave draft sutler. Ho coffer Buccaneer long clothes Spanish Main Jack Tar poop deck galleon parley quarterdeck.","dangerLevel":{"type":"ADD","value":1},"landCost":{"type":"MULT","value":2},"buildCost":{"type":"MULT","value":1},"tpValue":{"type":"MULT","value":1},"exclusiveWith":[]},{"name":"Booming Economy","description":"Booming economy? More like boomerless economy. Ha!","dangerLevel":{"type":"ADD","value":1},"landCost":{"type":"MULT","value":2},"buildCost":{"type":"MULT","value":1},"tpValue":{"type":"MULT","value":1},"exclusiveWith":[]},{"name":"Beautiful","description":"The land either has an amazing view or is in an area valued for its fantastic majestic beauty. The land itself costs double but building blocks grant 50% addition TP. /n /n Can\'t be select with the Slumtown trait.","dangerLevel":{"type":"ADD","value":0},"landCost":{"type":"MULT","value":2},"buildCost":{"type":"MULT","value":1},"tpValue":{"type":"MULT","value":1.5},"exclusiveWith":["Slumtown"]},{"name":"Slumtown","description":"Poop","dangerLevel":{"type":"ADD","value":1},"landCost":{"type":"MULT","value":2},"buildCost":{"type":"MULT","value":1},"tpValue":{"type":"MULT","value":1},"exclusiveWith":["Beautiful"]}]')},,,function(e,t,a){e.exports=a(24)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(9),r=a.n(o),i=(a(19),a(13)),s=a(1),u=a(2),c=a(4),d=a(3),m=(a(20),a(21),[{tileType:"empty",tileDisplayName:"Empty",color:"white",baseTpCost:0,baseGpCost:0},{tileType:"cheap",tileDisplayName:"Cheap",color:"#4e342e",baseTpCost:2,baseGpCost:10},{tileType:"generic",tileDisplayName:"Generic",color:"#c62828",baseTpCost:8,baseGpCost:30},{tileType:"expensive",tileDisplayName:"Expensive",color:"#d84315",baseTpCost:30,baseGpCost:100},{tileType:"very-expensive",tileDisplayName:"Very Expensive",color:"#f9a825",baseTpCost:100,baseGpCost:300}]),f=function(){function e(t){if(Object(s.a)(this,e),this.tile=void 0,this.traits=[],t.tile){var a=t.tile;this.tile=m.find((function(e){return e.tileDisplayName===a.name})),this.traits=a.traits}else{if(!t.const)throw console.error("Need either 'tile' or 'const' defined");this.tile=t.const}}return Object(u.a)(e,[{key:"ConvertToTileType",value:function(){return{name:this.tile.tileDisplayName,traits:this.traits}}}]),e}();function p(e){return e.map((function(e){return e.map((function(e){return e.map((function(e){return new f({tile:e})}))}))}))}var b=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var l;return Object(s.a)(this,a),(l=t.call(this,e)).table=Object(n.createRef)(),l.state={blockMatrix:p(e.data.mapMatrix),selectedTileType:m[0],currentLevel:0,currentlySelectedTraits:[]},l}return Object(u.a)(a,[{key:"TileSelected",value:function(e){this.setState({selectedTileType:e})}},{key:"createTileTypeLegendsView",value:function(e,t){var a=this;return l.a.createElement("li",{onClick:function(){return a.TileSelected(e)},key:t,className:"tile-".concat(e.tileType," ").concat(e.tileType===this.state.selectedTileType.tileType?"active":"")},e.tileDisplayName," ",l.a.createElement("span",{className:"color-block",style:{backgroundColor:e.color}}))}},{key:"updateTileAtCoords",value:function(e){var t=new f({const:this.state.selectedTileType});this.state.blockMatrix[e.x][e.y][this.state.currentLevel]=t,this.props.blockUpdatedCallback(this.state.blockMatrix),this.forceUpdate()}},{key:"render",value:function(){var e=this;this.state.blockMatrix.flat().flat();return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-2"},l.a.createElement("h2",null,"Blocks:"),l.a.createElement("h3",null,"Indoor:"),l.a.createElement("ul",null,m.map((function(t,a){return e.createTileTypeLegendsView(t,a)}))),l.a.createElement("br",null),l.a.createElement("h3",null,"Outdoor:"),l.a.createElement("div",null,"Field ",l.a.createElement("span",{className:"tile tile-field"})),l.a.createElement("div",null,"Decorated ",l.a.createElement("span",{className:"tile tile-decorated"})),l.a.createElement("div",null,"Well Decorated ",l.a.createElement("span",{className:"tile tile-well-decorated"})),l.a.createElement("div",null,"Very Decorated ",l.a.createElement("span",{className:"tile tile-very-decorated"})),l.a.createElement("h3",null,"Special:"),l.a.createElement("div",null,"Reinforced Wooden Wall ",l.a.createElement("span",{className:"tile tile-wooden-wall"})),l.a.createElement("div",null,"Reinforced Stone Wall ",l.a.createElement("span",{className:"tile tile-stone-wall"})),l.a.createElement("div",null,"Escape Tunnel ",l.a.createElement("span",{className:"tile tile-escape-tunnel"}))),l.a.createElement("div",{className:"col-7"},l.a.createElement("table",{ref:this.table,className:"block-matrix-table"},l.a.createElement("tbody",null,this.state.blockMatrix.map((function(t,a){return l.a.createElement("tr",{key:a},t.map((function(t,n){var o;return l.a.createElement(y,{key:n,blockData:t[e.state.currentLevel],coords:{x:a,y:n},clickCallback:e.updateTileAtCoords.bind(e),height:((null===(o=e.table.current)||void 0===o?void 0:o.clientWidth)||0)/e.state.blockMatrix.length})})))}))))),l.a.createElement("div",{className:"col-3"}))}}]),a}(n.Component),y=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("td",{onClick:function(){return e.props.clickCallback(e.props.coords)},style:{backgroundColor:this.props.blockData.tile.color,height:this.props.height}})}}]),a}(n.Component),C=a(5),g=(a(6),a(7)),v=a.n(g),h=a(10),E=a(11),w=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"GetSubregionByName",value:function(e,t){var a=e.regions.flatMap((function(e){return e.subregions})).find((function(e){return e.name===t}));if(a)return a;throw console.error("No subregion with name ".concat(t," for Country ").concat(e.name))}},{key:"GetCountryDataByName",value:function(e){var t=C.COUNTRIES.find((function(t){return t.name===e}));if(t)return t;throw new Error("No country with name ".concat(e))}},{key:"GetTraitsFromNames",value:function(e){return e.map((function(e){return E.find((function(t){return t.name===e}))}))}},{key:"GetQualityFromBlock",value:function(e){return{name:"Beautiful",description:"The land either has an amazing view or is in an area valued for its fantastic majestic beauty. The land itself costs double but building blocks grant 50% addition TP. /n /n Can't be select with the Slumtown trait.",dangerLevel:{type:"ADD",value:0},landCost:{type:"MULT",value:2},buildCost:{type:"MULT",value:1},tpValue:{type:"MULT",value:1.5},exclusiveWith:["Slumtown"]}}},{key:"ResolveValueModifier",value:function(e,t){switch(t.type){case"ADD":return e+t.value;case"MULT":return e*t.value}}}]),e}(),S=function(){function e(t){var a=this;Object(s.a)(this,e),this.playerData=void 0,this.SerializeToJSONAnDownload=Object(h.a)(v.a.mark((function e(){var t,n,l,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify(a.playerData),n=new Blob([t],{type:"application/json"}),e.next=4,URL.createObjectURL(n);case 4:l=e.sent,(o=document.createElement("a")).href=l,o.download="muh_propery.json",document.body.appendChild(o),o.click(),document.body.removeChild(o);case 11:case"end":return e.stop()}}),e)}))),t&&this.UpdateData(t)}return Object(u.a)(e,[{key:"SerializeData",value:function(){return JSON.stringify(this.playerData)}},{key:"UpdateData",value:function(e){this.playerData=JSON.parse(e)}},{key:"getAppStateFromPlayerData",value:function(){return{stage:"edit",selectedCountry:this.playerData.countryName,selectedRegion:this.playerData.regionName,selectedTraits:this.playerData.regionTraitsSelected,selectedGridSize:{x:this.playerData.mapMatrix.length,y:this.playerData.mapMatrix[0].length},tileMatrix:this.playerData.mapMatrix}}},{key:"ConstructData",value:function(e){var t={propertyName:"Test Property",playerName:"Test Player",lastDateModified:"Ignored",versionCreatedWith:"Ignored",countryName:e.selectedCountry||"",regionName:e.selectedRegion||"",regionTraitsSelected:e.selectedTraits,mapMatrix:[]};return e.tileMatrix.length>0?t.mapMatrix=e.tileMatrix:t.mapMatrix=this.CreateEmptyTileMatrix(e.selectedGridSize.x,e.selectedGridSize.y),this.playerData=t,t}},{key:"CreateEmptyTileMatrix",value:function(e,t){for(var a=[],n=0;n<e;n++){a[n]=[];for(var l=0;l<t;l++)a[n][l]=[],a[n][l][0]={name:"Empty",traits:[]}}return a}}]),e}();var k=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-2"},l.a.createElement("h2",null,"Select Country:"),l.a.createElement("ul",null,C.COUNTRIES.map((function(t,a){return l.a.createElement("li",{key:a,className:e.props.selectedCountry===t.name?"active":"",onClick:function(){return e.props.selectCountryCallback(t.name)}},t.name)})))),l.a.createElement("div",{className:"col"},"Pretty pictures and shit go here"))}}]),a}(n.Component),T=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=C.COUNTRIES.find((function(t){return t.name===e.props.selectedCountry})),a=(null===t||void 0===t?void 0:t.regions)||[],n={name:"",dangerLevel:0,landCost:0,buildCost:0,tpValue:0};return""!==this.props.selectedSubregion&&(n=a.flatMap((function(e){return e.subregions})).find((function(t){return t.name===e.props.selectedSubregion}))||n),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-2"},l.a.createElement("h2",null,"Select Region:"),a.map((function(t,a){return l.a.createElement("div",{key:a,className:"row"},l.a.createElement("div",{className:"col"}," ",t.name," "),l.a.createElement("div",{className:"col"},l.a.createElement("ul",null,t.subregions.map((function(t,a){return l.a.createElement("li",{key:a,className:e.props.selectedSubregion===t.name?"active":"",onClick:function(){return e.props.selectRegionCallback(t.name)}},t.name)})))))}))),l.a.createElement("div",{className:"col"},"Pretty pictures and shit go here"))}}]),a}(n.Component),B=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t={dangerLevel:this.props.baseMultiplier.dangerLevel,landCost:this.props.baseMultiplier.landCost,buildCost:this.props.baseMultiplier.buildCost,tpValue:this.props.baseMultiplier.tpValue};return this.props.selectedTraits.forEach((function(e){t.dangerLevel=w.ResolveValueModifier(t.dangerLevel,e.dangerLevel),t.landCost=w.ResolveValueModifier(t.landCost,e.landCost),t.buildCost=w.ResolveValueModifier(t.buildCost,e.buildCost),t.tpValue=w.ResolveValueModifier(t.tpValue,e.tpValue)})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-5"},l.a.createElement("h2",null,this.props.countryName," Traits:"),l.a.createElement("ul",null,this.props.possibleTraits.map((function(t,a){return l.a.createElement("li",{key:a,className:e.props.selectedTraits.find((function(e){return e.name===t.name}))?"active":"",onClick:function(a){return e.props.selectTraitCallback(t.name)}},t.name)})))),l.a.createElement("div",{className:"col"},"Base Info"))}}]),a}(n.Component),D=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var l;return Object(s.a)(this,a),(l=t.call(this,e)).table=Object(n.createRef)(),window.addEventListener("resize",(function(){return l.forceUpdate()})),l}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this,t=new Array(this.props.selectedGridSize.x),a=new Array(this.props.selectedGridSize.y);return t.fill(0),a.fill(0),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},l.a.createElement("ul",null,this.props.possibleGridSizes.map((function(t,a){return l.a.createElement("li",{key:a,className:e.props.selectedGridSize===t?"active":"",onClick:function(){return e.props.gridSizeSelectCallback(t)}},t.x," x ",t.y)})))),l.a.createElement("div",{className:"col"},l.a.createElement("table",{ref:this.table,className:"block-matrix-table"},l.a.createElement("tbody",null,a.map((function(a,n){return l.a.createElement("tr",{key:n},t.map((function(a,n){var o,r;return l.a.createElement("td",{key:n,style:{width:((null===(o=e.table.current)||void 0===o?void 0:o.clientWidth)||0)/t.length,height:((null===(r=e.table.current)||void 0===r?void 0:r.clientWidth)||0)/t.length}})})))}))))),l.a.createElement("div",{className:"col-3"}))}}]),a}(n.Component),L=a(12),N=a.n(L);var V=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).data=void 0,n.state={stage:"landing",selectedCountry:"",selectedRegion:"",selectedTraits:[],selectedGridSize:{x:0,y:0},tileMatrix:[]},n.data=new S,n}return Object(u.a)(a,[{key:"UploadedJson",value:function(e){this.data.UpdateData(e),this.setState(this.data.getAppStateFromPlayerData())}},{key:"countrySelectCallback",value:function(e){this.setState({selectedCountry:e})}},{key:"regionSelectCallback",value:function(e){this.setState({selectedRegion:e})}},{key:"traitSelectCallback",value:function(e){this.state.selectedTraits.find((function(t){return t===e}))?this.setState({selectedTraits:this.state.selectedTraits.filter((function(t){return t!==e}))}):this.state.selectedTraits.push(e),this.forceUpdate()}},{key:"gridSelectCallback",value:function(e){this.setState({selectedGridSize:e})}},{key:"blockUpdateCallback",value:function(e){var t;this.setState({tileMatrix:(t=e,t.map((function(e){return e.map((function(e){return e.map((function(e){return e.ConvertToTileType()}))}))})))})}},{key:"nextClickCallback",value:function(){switch(this.state.stage){case"country-select":""!==this.state.selectedCountry?this.setState({stage:"region-select"}):console.error("No country selected");break;case"region-select":""!==this.state.selectedRegion&&this.setState({stage:"trait-select"});break;case"trait-select":this.setState({stage:"size-select"});break;case"size-select":this.setState({stage:"edit"});break;default:console.error("Unsupported Stage State ".concat(this.state.stage))}}},{key:"render",value:function(){var e=this;return this.data.ConstructData(this.state),l.a.createElement("div",{className:"App"},"landing"!==this.state.stage?l.a.createElement(M,{data:this.data.playerData}):null,function(){switch(e.state.stage){case"landing":return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("button",{onClick:function(){e.setState({stage:"country-select"})}},"New Property")),l.a.createElement("div",{className:"col"},l.a.createElement(I,{UploadedJson:function(t){return e.UploadedJson(t)}})));case"country-select":return l.a.createElement("div",null,l.a.createElement(k,{selectedCountry:e.state.selectedCountry,selectCountryCallback:function(t){return e.countrySelectCallback(t)}}));case"region-select":return l.a.createElement("div",null,l.a.createElement(T,{selectedSubregion:e.state.selectedRegion,selectedCountry:e.state.selectedCountry,selectRegionCallback:function(t){return e.regionSelectCallback(t)}}));case"trait-select":var t=C.COUNTRIES.find((function(t){return t.name===e.state.selectedCountry})),a=w.GetSubregionByName(t,e.state.selectedRegion),n=w.GetTraitsFromNames(a.traits),o=e.state.selectedTraits.map((function(e){return n.find((function(t){return t.name===e}))}));return l.a.createElement(B,{selectedTraits:o,possibleTraits:n,countryName:t.name,selectTraitCallback:function(t){return e.traitSelectCallback(t)},baseMultiplier:a});case"size-select":return l.a.createElement(D,{possibleGridSizes:C.GRID_SIZES,selectedGridSize:e.state.selectedGridSize,gridSizeSelectCallback:function(t){return e.gridSelectCallback(t)}});case"edit":return l.a.createElement(b,{data:e.data.playerData,blockUpdatedCallback:e.blockUpdateCallback.bind(e)});default:return null}}(),l.a.createElement("hr",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("button",null,"Back")),l.a.createElement("div",{className:"col"},"edit"===this.state.stage?l.a.createElement("button",{onClick:function(){return e.data.SerializeToJSONAnDownload()}},"Download JSON"):l.a.createElement("button",{onClick:function(){return e.nextClickCallback()}},"Next"))))}}]),a}(n.Component),M=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state=a.calculateData({data:n.props.data}),n}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-2"},l.a.createElement("div",null,l.a.createElement("b",null,"Total:")," Land Cost - ",this.state.calculatedLandCost," gp ",l.a.createElement("br",null),"Build Cost - ",this.state.calculatedGoldCost," gp ",l.a.createElement("br",null),"TP Value -  ",this.state.calculatedTpCost," tp ",l.a.createElement("br",null))),l.a.createElement("div",{className:"col"},l.a.createElement("h3",null,this.props.data.countryName||""," - ",this.props.data.regionName||""),l.a.createElement("h4",null,this.props.data.regionTraitsSelected.join(", "))),l.a.createElement("div",{className:"col-2"},l.a.createElement("div",null,l.a.createElement("b",null,"Total:")," Danger Level - ",this.state.multipliers.dangerLevel," ",l.a.createElement("br",null),"Land Cost - ",100*this.state.multipliers.landCost,"% ",l.a.createElement("br",null),"Build Cost -  ",100*this.state.multipliers.buildCost,"% ",l.a.createElement("br",null),"TP Value -  ",100*this.state.multipliers.tpValue,"% ",l.a.createElement("br",null))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return a.calculateData(e)}},{key:"calculateData",value:function(e){var t={dangerLevel:0,buildCost:0,landCost:0,tpValue:0};if(""!==e.data.countryName&&""!==e.data.regionName){var a=w.GetCountryDataByName(e.data.countryName),n=w.GetSubregionByName(a,e.data.regionName);t=Object(i.a)({},n)}w.GetTraitsFromNames(e.data.regionTraitsSelected).map((function(e){t.dangerLevel=w.ResolveValueModifier(t.dangerLevel,e.dangerLevel),t.buildCost=w.ResolveValueModifier(t.buildCost,e.buildCost),t.landCost=w.ResolveValueModifier(t.landCost,e.landCost),t.tpValue=w.ResolveValueModifier(t.tpValue,e.tpValue)}));var l=0;console.log(e.data.mapMatrix),e.data.mapMatrix.length>0&&(l=e.data.mapMatrix.flat().length*C.TILES.BASE_COSTS.LAND_COST*t.landCost);var o=0,r=0;e.data.mapMatrix.length>0&&p(e.data.mapMatrix).flat().flat().map((function(e){var t=w.GetQualityFromBlock(e);o+=w.ResolveValueModifier(e.tile.baseGpCost,t.buildCost),r+=w.ResolveValueModifier(e.tile.baseTpCost,t.tpValue)}));return{calculatedLandCost:l,calculatedGoldCost:o,calculatedTpCost:r,multipliers:t}}}]),a}(n.Component),I=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).fileReader=void 0,n.state={jsonFile:{}},n.fileReader=new FileReader,n.fileReader.onload=function(e){var t=e.target;t?n.props.UploadedJson(t.result):console.error("wat")},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"files"},l.a.createElement(N.a,{onChange:function(t){e.fileReader.readAsText(t[0])}},"Drop files here or click to upload"))}}]),a}(n.Component),O=V;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(23);r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[14,1,2]]]);
//# sourceMappingURL=main.2a52244e.chunk.js.map